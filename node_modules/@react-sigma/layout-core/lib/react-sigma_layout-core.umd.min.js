!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash"),require("react"),require("@react-sigma/core")):"function"==typeof define&&define.amd?define(["exports","lodash","react","@react-sigma/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@react-sigma/layout-core"]={},e.lodash,e.React,e.core)}(this,(function(e,t,r,a){"use strict";var n,s=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}(r),l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}var i,u=function(e){return s.createElement("svg",o({"aria-hidden":"true","data-prefix":"fas","data-icon":"play",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),n||(n=s.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c.apply(this,arguments)}var f=function(e){return s.createElement("svg",c({"aria-hidden":"true","data-prefix":"fas","data-icon":"stop",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),i||(i=s.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})))};e.WorkerLayoutControl=function({id:e,className:t,style:n,layout:s,settings:o,autoRunFor:i,children:c,labels:d={}}){const p=a.useSigma(),{stop:g,start:h,isRunning:m}=s(o),y={className:`react-sigma-control ${t||""}`,id:e,style:n};return r.useEffect((()=>{if(!p)return;let e=null;return void 0!==i&&i>-1&&p.getGraph().order>0&&(h(),e=i>0?window.setTimeout((()=>{g()}),i):null),()=>{e&&clearTimeout(e)}}),[i,h,g,p]),l.default.createElement("div",Object.assign({},y),l.default.createElement("button",{onClick:()=>m?g():h(),title:m?d.stop||"Stop the layout animation":d.start||"Start the layout animation"},c&&!m&&c[0],c&&m&&c[1],!c&&!m&&l.default.createElement(u,{style:{width:"1em"}}),!c&&m&&l.default.createElement(f,{style:{width:"1em"}})))},e.useLayoutFactory=function(e,n){return(s=n)=>{const l=a.useSigma(),o=r.useRef(n);return t.isEqual(o.current,s)||(o.current=s),{positions:r.useCallback((()=>o.current?e(l.getGraph(),o.current):{}),[l,o]),assign:r.useCallback((()=>{o.current&&e.assign(l.getGraph(),o.current)}),[l,o])}}},e.useWorkerLayoutFactory=function(e){return n=>{const s=a.useSigma(),[l,o]=r.useState(!1),[i,u]=r.useState(null),c=r.useRef();return t.isEqual(c.current,n)||(c.current=n),r.useEffect((()=>{o(!1);let t=null;return c.current&&(t=new e(s.getGraph(),c.current)),u(t),()=>{null!==t&&t.kill()}}),[s,c,u,o]),{stop:r.useCallback((()=>{i&&(i.stop(),o(!1))}),[i,o]),start:r.useCallback((()=>{i&&(i.start(),o(!0))}),[i,o]),kill:r.useCallback((()=>{i&&i.kill(),o(!1)}),[i,o]),isRunning:l}}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-sigma_layout-core.umd.min.js.map
