"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useLayoutFactory = void 0;
const lodash_1 = require("lodash");
const react_1 = require("react");
const core_1 = require("@react-sigma/core");
function useLayoutFactory(layout, defaultSettings) {
    const hook = (parameter = defaultSettings) => {
        const sigma = (0, core_1.useSigma)();
        const settings = (0, react_1.useRef)(defaultSettings);
        if (!(0, lodash_1.isEqual)(settings.current, parameter))
            settings.current = parameter;
        const positions = (0, react_1.useCallback)(() => {
            if (settings.current)
                return layout(sigma.getGraph(), settings.current);
            else
                return {};
        }, [sigma, settings]);
        const assign = (0, react_1.useCallback)(() => {
            if (settings.current) {
                layout.assign(sigma.getGraph(), settings.current);
            }
        }, [sigma, settings]);
        return { positions, assign };
    };
    return hook;
}
exports.useLayoutFactory = useLayoutFactory;
//# sourceMappingURL=useLayoutFactory.js.map