import{isEqual as t}from"lodash";import*as e from"react";import r,{useRef as a,useCallback as n,useState as s,useEffect as o}from"react";import{useSigma as i}from"@react-sigma/core";function l(e,r){return(s=r)=>{const o=i(),l=a(r);return t(l.current,s)||(l.current=s),{positions:n((()=>l.current?e(o.getGraph(),l.current):{}),[o,l]),assign:n((()=>{l.current&&e.assign(o.getGraph(),l.current)}),[o,l])}}}function c(e){return r=>{const l=i(),[c,u]=s(!1),[p,g]=s(null),m=a();return t(m.current,r)||(m.current=r),o((()=>{u(!1);let t=null;return m.current&&(t=new e(l.getGraph(),m.current)),g(t),()=>{null!==t&&t.kill()}}),[l,m,g,u]),{stop:n((()=>{p&&(p.stop(),u(!1))}),[p,u]),start:n((()=>{p&&(p.start(),u(!0))}),[p,u]),kill:n((()=>{p&&p.kill(),u(!1)}),[p,u]),isRunning:c}}}var u;function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},p.apply(this,arguments)}var g,m=function(t){return e.createElement("svg",p({"aria-hidden":"true","data-prefix":"fas","data-icon":"play",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em"},t),u||(u=e.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})))};function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},f.apply(this,arguments)}var d=function(t){return e.createElement("svg",f({"aria-hidden":"true","data-prefix":"fas","data-icon":"stop",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em"},t),g||(g=e.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})))};function h({id:t,className:e,style:a,layout:n,settings:s,autoRunFor:l,children:c,labels:u={}}){const p=i(),{stop:g,start:f,isRunning:h}=n(s),v={className:`react-sigma-control ${e||""}`,id:t,style:a};return o((()=>{if(!p)return;let t=null;return void 0!==l&&l>-1&&p.getGraph().order>0&&(f(),t=l>0?window.setTimeout((()=>{g()}),l):null),()=>{t&&clearTimeout(t)}}),[l,f,g,p]),r.createElement("div",Object.assign({},v),r.createElement("button",{onClick:()=>h?g():f(),title:h?u.stop||"Stop the layout animation":u.start||"Start the layout animation"},c&&!h&&c[0],c&&h&&c[1],!c&&!h&&r.createElement(m,{style:{width:"1em"}}),!c&&h&&r.createElement(d,{style:{width:"1em"}})))}export{h as WorkerLayoutControl,l as useLayoutFactory,c as useWorkerLayoutFactory};
//# sourceMappingURL=react-sigma_layout-core.esm.min.js.map
